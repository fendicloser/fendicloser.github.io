<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>CSS双飞翼布局、圣杯布局、动画 | Longfu Sun</title><meta name="description"><meta name="generator" content="Longfu Sun"><meta name="author" content="Longfu Sun"><meta name="keywords" content="sjaak van den berg, svdb, bitcoin, crypto, payment, integration, bitcoins, wordpress, betaling, webshop, front end, design, ontwerp, developer"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160x160.png"><link rel="icon" type="image/png" sizes="192x192" href="/images/favicon-192x192.png"><meta name="msapplication-TileColor" content="#121315"><meta name="msapplication-TileImage" content="/images/mstile-144x144.png"><link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><a href="/"><img src="/images/svdb.png" alt="Longfu Sun" title="Longfu Sun"></a><h1><a href="/" alt="Longfu Sun" title="Longfu Sun" itemprop="headline">Longfu Sun</a></h1><p itemprop="description">Live a life you will remember</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/" alt="Home" title="Home" itemprop="url">Home</a></li><li itemprop="name"><a href="/articles" alt="Articles" title="Articles" itemprop="url">Articles</a></li><li itemprop="name"><a href="/about" alt="About" title="About" itemprop="url">About</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline">CSS双飞翼布局、圣杯布局、动画</h1><span class="post-meta">Published on<time itemprop="datePublished" datetime="2019-03-03T06:03:00.000Z"> Sunday, March 3rd 2019 at 14:03</time><br>Last updated on<time itemprop="dateModified" datetime="2019-03-03T06:03:00.000Z"> Sunday, March 3rd 2019 at 21:29</time></span><p>之前刚接触CSS的时候学习了圣杯布局和双飞翼布局的方法，以及用css动画生成loading画面。前两个布局是面试时候非常常被问到的css问题，而第二个则是在实际工作中非常常用的素材，这里简单讲一下基本思想并做一下备忘。<br>网上关于这三项的blog特别多，但是关键不是直接应用，而是记住如何设置和他们的设计步骤、设计思想</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">圣杯布局和双飞翼布局主要参考：</span><br><span class="line">https:<span class="comment">//www.cnblogs.com/imwtr/p/4441741.html</span></span><br><span class="line">https:<span class="comment">//www.cnblogs.com/lovemomo/p/4885866.html</span></span><br><span class="line">https:<span class="comment">//www.jianshu.com/p/f9bcddb0e8b4    尤其是这一篇，非常详细</span></span><br><span class="line">loading主要参考：腾讯课堂next课堂前端教程</span><br></pre></td></tr></table></figure>
<p>圣杯布局的基本思路,各个部分分别是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;&lt;header&gt;、&lt;container&gt;、&lt;middle&gt;、&lt;left&gt;、&lt;right&gt;、&lt;footer&gt;&quot;, </span><br><span class="line">其中&quot;&lt;middle&gt;、&lt;left&gt;、&lt;right&gt;是&lt;container&gt;&quot;的子元素.</span><br></pre></td></tr></table></figure></p>
<p>第一步先写出html结构</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"middle"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，先给上面的结构写基础css，注意：<middle>要先渲染，把<middle>的width设置成100%, 然后<middle>\<left>\<right>的float设置成left<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span>&#123;<span class="attribute">background-color</span>: yellow;<span class="attribute">height</span>: <span class="number">40px</span>;<span class="attribute">width</span>: <span class="number">100%</span>;&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;<span class="attribute">height</span>: <span class="number">400px</span>;<span class="attribute">overflow</span>: hidden&#125;</span><br><span class="line"><span class="selector-class">.middle</span>&#123;<span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">height</span>:<span class="number">200px</span>;<span class="attribute">float</span>:left;<span class="attribute">background-color</span>: <span class="number">#f92672</span>&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;<span class="attribute">width</span>:<span class="number">200px</span>;<span class="attribute">height</span>: <span class="number">200px</span>;<span class="attribute">float</span>: left;<span class="attribute">background-color</span>: <span class="number">#1d9cf7</span>&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">width</span>: <span class="number">200px</span>;<span class="attribute">height</span>: <span class="number">200px</span>;<span class="attribute">float</span>:left;<span class="attribute">background-color</span>: <span class="number">#aaaaaa</span>&#125;</span><br><span class="line"><span class="selector-tag">footer</span>&#123;<span class="attribute">background-color</span>: <span class="number">#141414</span>;<span class="attribute">height</span>: <span class="number">40px</span>;<span class="attribute">width</span>: <span class="number">100px</span>&#125;</span><br></pre></td></tr></table></figure></right></left></middle></middle></middle></p>
<p>此时看到的应该是这样的<br><img src="/2019/03/03/css双飞翼布局、圣杯布局、动画/step2.png" alt><br>此时看到的中间蓝色部分是middle，因为middle是新渲染的，left和right已经被挤压到下面去了。</p>
<p>第三步，所以下一步就是把想办法把left和right调上去。用到的css属性是margin-left，但是left和right的参数是不一样的：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;<span class="attribute">margin-left</span>:-<span class="number">100%</span>;&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">marign-left</span>:-<span class="number">200px</span>;&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样左盒子才可以往最左边移动。这样右盒子才可以在一行的最右边显示出自己。<br><img src="/2019/03/03/css双飞翼布局、圣杯布局、动画/step3.png" alt><br>当我们改变window的大小的时候，middle的大小就可以自适应了。</p>
<p>第四步，middle的大小还需要改变，因为middle两边的内容会被left和right挡住。</p>
<p>利用父级元素设置左右内边距的值，把父级的三个子盒子往中间挤。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123; <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">200px</span>;&#125; <span class="comment">/*这里的200px是左右盒子的宽度。*/</span></span><br></pre></td></tr></table></figure>
<p>我们可以看到，左右两边的内边距是有了，但是中间盒子上的内容还是被压着。</p>
<p>其次:给左右两个盒子加一个定位，加了定位之后左右两个盒子就可以设置left和right值。</p>
<p>代码如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123; <span class="attribute">position</span>: relative; <span class="attribute">left</span>: -<span class="number">200px</span>;&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">position</span>: relative;<span class="attribute">right</span>: -<span class="number">200px</span>;&#125;</span><br></pre></td></tr></table></figure></p>
<p>好的传统意义上的圣杯布局以及完成了，额外一点，这个时候middle中的文本内容还是会插入right里面，<br><img src="/2019/03/03/css双飞翼布局、圣杯布局、动画/unfinished.png" alt><br>这个时候，可以：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.middle</span>&#123;<span class="attribute">word-break</span>: break-all;&#125;</span><br></pre></td></tr></table></figure></p>
<p>所以最终的结果就是这样的<br><img src="/2019/03/03/css双飞翼布局、圣杯布局、动画/finished.png" alt></p>
<p>##然后是双飞翼布局<br>同样是实现三栏布局<br>同样的，我们先仿照圣杯布局的写法写，但是在middle里面多加一层div，id是inside</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>实现三栏水平布局之双飞翼布局<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        header,</span></span><br><span class="line"><span class="undefined">        footer &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#aaa</span>;</span></span><br><span class="line"><span class="undefined">            text-align: center;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">height</span><span class="selector-pseudo">:50px</span>;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.middle</span>&#123;</span></span><br><span class="line"><span class="undefined">            float: left;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#75715e</span>;</span></span><br><span class="line"><span class="undefined">            height: 400px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.left</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            background-color: red;</span></span><br><span class="line"><span class="undefined">            height: 400px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.right</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">float</span><span class="selector-pseudo">:right</span>;</span></span><br><span class="line"><span class="undefined">            background-color: green;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            height: 400px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        footer&#123;</span></span><br><span class="line"><span class="undefined">            clear: both;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"middle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"inside"</span>&gt;</span>middle<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>得到的就是下面的布局<br><img src="/2019/03/03/css双飞翼布局、圣杯布局、动画/shuang.png" alt><br>在此基础上，我们加上：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;<span class="attribute">margin-left</span>: -<span class="number">100%</span>;&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">margin-left</span>:-<span class="number">200px</span>;&#125;</span><br><span class="line"><span class="selector-id">#inside</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">200px</span> <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">footer</span>&#123;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>得到的结果就是<br><img src="/2019/03/03/css双飞翼布局、圣杯布局、动画/shuang2.png" alt><br>这里其实有一个问题还不太明白，在圣杯布局中footer标签并没有用clear：both消除浮动，但是在双飞翼中，必须消除浮动。</p>
<p>##总结一下<br>圣杯布局和双飞翼布局是非常经典的三栏布局解决方法，两者的区别就在于：如何解决middle栏的被遮罩的问题。<br>圣杯布局的方法是：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*.container&#123; padding: 0 200px;&#125;*/</span></span><br><span class="line"><span class="selector-class">.container</span>&#123; <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">200px</span>;&#125;</span><br><span class="line"><span class="comment">/*其次:给左右两个盒子加一个定位，加了定位之后左右两个盒子就可以设置left和right值。*/</span></span><br><span class="line"><span class="selector-class">.left</span>&#123; <span class="attribute">position</span>: relative; <span class="attribute">left</span>: -<span class="number">200px</span>;&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">position</span>: relative;<span class="attribute">right</span>: -<span class="number">210px</span>;&#125;</span><br></pre></td></tr></table></figure></p>
<p>双飞翼布局的方法就是上一段代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;<span class="attribute">margin-left</span>: -<span class="number">100%</span>;&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;<span class="attribute">margin-left</span>:-<span class="number">200px</span>;&#125;</span><br><span class="line"><span class="selector-id">#inside</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">200px</span> <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">footer</span>&#123;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</article></main></body></html>